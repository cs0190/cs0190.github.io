<!doctype HTML>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="codemirror.js"></script>
<script src="runmode.js"></script>
<script src="pyret.js"></script>
<script src="hilite.js"></script>
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>2.1.5&nbsp;Provide Statements</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-fonts.css" title="default"/><link rel="stylesheet" type="text/css" href="codemirror.css" title="default"/><link rel="stylesheet" type="text/css" href="pyret.css" title="default"/><link rel="stylesheet" type="text/css" href="styles.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Pyret</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Getting_Started.html" class="tocviewlink" data-pltdoc="x">Getting Started</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Language_Concepts.html" class="tocviewselflink" data-pltdoc="x">Language Concepts</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Builtins_and_Libraries.html" class="tocviewlink" data-pltdoc="x">Builtins and Libraries</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Pyret_Style_Guide.html" class="tocviewlink" data-pltdoc="x">Pyret Style Guide</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="Internals.html" class="tocviewlink" data-pltdoc="x">Internals</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="Glossary.html" class="tocviewlink" data-pltdoc="x">Glossary</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>2&nbsp;</td><td><a href="Language_Concepts.html" class="tocviewlink" data-pltdoc="x">Language Concepts</a></td></tr></table><div class="tocviewsublist" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">2.1&nbsp;</td><td><a href="s_forms.html" class="tocviewselflink" data-pltdoc="x">Language Constructs</a></td></tr><tr><td align="right">2.2&nbsp;</td><td><a href="testing.html" class="tocviewlink" data-pltdoc="x">Testing</a></td></tr><tr><td align="right">2.3&nbsp;</td><td><a href="equality.html" class="tocviewlink" data-pltdoc="x">equality</a></td></tr><tr><td align="right">2.4&nbsp;</td><td><a href="op-precedence.html" class="tocviewlink" data-pltdoc="x">Operator Precedence</a></td></tr><tr><td align="right">2.5&nbsp;</td><td><a href="brands.html" class="tocviewlink" data-pltdoc="x">Brands</a></td></tr><tr><td align="right">2.6&nbsp;</td><td><a href="type-check.html" class="tocviewlink" data-pltdoc="x">Type Checking</a></td></tr><tr><td align="right">2.7&nbsp;</td><td><a href="s_spies.html" class="tocviewlink" data-pltdoc="x">Spies</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9660;</a></td><td>2.1&nbsp;</td><td><a href="s_forms.html" class="tocviewlink" data-pltdoc="x">Language Constructs</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">2.1.1&nbsp;</td><td><a href="s_literals.html" class="tocviewlink" data-pltdoc="x">Primitives and Literals</a></td></tr><tr><td align="right">2.1.2&nbsp;</td><td><a href="s_comments.html" class="tocviewlink" data-pltdoc="x">Comments</a></td></tr><tr><td align="right">2.1.3&nbsp;</td><td><a href="s_program.html" class="tocviewlink" data-pltdoc="x">Programs</a></td></tr><tr><td align="right">2.1.4&nbsp;</td><td><a href="Import_Statements.html" class="tocviewlink" data-pltdoc="x">Import Statements</a></td></tr><tr><td align="right">2.1.5&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Provide Statements</a></td></tr><tr><td align="right">2.1.6&nbsp;</td><td><a href="Bindings.html" class="tocviewlink" data-pltdoc="x">Bindings</a></td></tr><tr><td align="right">2.1.7&nbsp;</td><td><a href="Blocks.html" class="tocviewlink" data-pltdoc="x">Blocks</a></td></tr><tr><td align="right">2.1.8&nbsp;</td><td><a href="s_declarations.html" class="tocviewlink" data-pltdoc="x">Declarations</a></td></tr><tr><td align="right">2.1.9&nbsp;</td><td><a href="s_contracts.html" class="tocviewlink" data-pltdoc="x">Contracts</a></td></tr><tr><td align="right">2.1.10&nbsp;</td><td><a href="Statements.html" class="tocviewlink" data-pltdoc="x">Statements</a></td></tr><tr><td align="right">2.1.11&nbsp;</td><td><a href="Expressions.html" class="tocviewlink" data-pltdoc="x">Expressions</a></td></tr><tr><td align="right">2.1.12&nbsp;</td><td><a href="s_annotations.html" class="tocviewlink" data-pltdoc="x">Annotations</a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="Import_Statements.html" title="backward to &quot;2.1.4 Import Statements&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="s_forms.html" title="up to &quot;2.1 Language Constructs&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Bindings.html" title="forward to &quot;2.1.6 Bindings&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h5>2.1.5<tt>&nbsp;</tt><a name="(part._.Provide_.Statements)"></a>Provide Statements</h5><blockquote class="SCodeFlow" style="white-space: pre;"><p><a name="(elem._(bnf-prod._(.Pyret._provide-stmt)))"></a><span class="bnf-rule">&#8249;provide-stmt&#8250;</span><span class="bnf-meta">:</span> <span class="bnf-lit">provide</span> <a href="Statements.html#%28elem._%28bnf-prod._%28.Pyret._stmt%29%29%29" data-pltdoc="x">&#8249;stmt&#8250;</a> <span class="bnf-lit">end</span><span class="bnf-meta"> | </span><span class="bnf-lit">provide</span> <span class="bnf-lit">*</span></p></blockquote><blockquote class="SCodeFlow" style="white-space: pre;"><p><a name="(elem._(bnf-prod._(.Pyret._provide-types-stmt)))"></a><span class="bnf-rule">&#8249;provide-types-stmt&#8250;</span><span class="bnf-meta">:</span> <span class="bnf-lit">provide-types</span> <a href="s_annotations.html#%28elem._%28bnf-prod._%28.Pyret._record-ann%29%29%29" data-pltdoc="x">&#8249;record-ann&#8250;</a><span class="bnf-meta"> | </span><span class="bnf-lit">provide-types</span> <span class="bnf-lit">*</span></p></blockquote><p><span class="pyret-highlight"><span class="stt">provide</span></span> and <span class="pyret-highlight"><span class="stt">provide-types</span></span> statements specify which
bindings and declarations in the
program are available to other Pyret programs via <span class="pyret-highlight"><span class="stt">import</span></span> statements.</p><p><span class="pyret-highlight"><span class="stt">provide</span></span> statements must be the first non-comment code in the
program or a syntax error will be raised.  <span class="pyret-highlight"><span class="stt">provide</span></span> statements have no
effect when the program is run as the top-level program.</p><p>When the program is in a file that is evaluated via <span class="pyret-highlight"><span class="stt">import</span></span>,
the program is run, and then the <span class="pyret-highlight"><span class="stt">provide</span></span> statement is run in
top-level scope to determine the value bound to the identifier in the
<span class="pyret-highlight"><span class="stt">import</span></span> statement.</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Any interactive windows spawned by code in the
<span class="pyret-highlight"><span class="stt">providing</span></span> program will appear when its code is <span class="pyret-highlight"><span class="stt">import</span></span>ed.</p></blockquote></blockquote></blockquote><p>In the first form, the <span class="stt">stmt</span> internal to the provide is evaluated, and the
resulting value is provided.  This is usually done via an object literal, where
the key represents the binding passed to the external program and
the value after the colon is the local identifier.</p><div class="examples"><p><div class="SIntrapara"><span style="font-weight: bold">Examples:</span></div><div class="SIntrapara"><pre class="pyret-block"><pre class="pyret-highlight"><p>provide {
  x : x,
  draw-character : draw-character,
  external-funct-name : internal-funct-name
}
end</p></pre></pre></div></p></div><p>Types can only be <span class="pyret-highlight"><span class="stt">provide</span></span>d by <span class="pyret-highlight"><span class="stt">provide-types</span></span> statements.  If
types are included in a <span class="pyret-highlight"><span class="stt">provide</span></span> statement they are ignored.  In
practice, types shared via <span class="pyret-highlight"><span class="stt">provide-types</span></span> also need to share detector
functions to fully work as anticipated in <span class="pyret-highlight"><span class="stt">import</span></span>ing programs.</p><p>The second wildcard <span style="font-weight: bold">*</span> form is syntactic sugar for sharing
all top level bindings and declarations other than types
defined in the file.</p><p>To share all bindings and declarations in a file:</p><div class="examples"><p><div class="SIntrapara"><span style="font-weight: bold">Examples:</span></div><div class="SIntrapara"><pre class="pyret-block"><pre class="pyret-highlight"><p>provide *
provide-types *</p></pre></pre></div></p></div><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>While the wildcard form is somewhat simpler, specifying
which names are to be shared explicitly through the object literal
syntax can prevent namespace pollution, especially if you expect
programmers (students) to use <span class="pyret-highlight"><span class="stt">include</span></span> to add the
names directly to their top level namespace.</p></blockquote></blockquote></blockquote><p>Programmers working through <a href="http://code.pyret.org"><span class="url">http://code.pyret.org</span></a> can <span class="pyret-highlight"><span class="stt">provide</span></span>
and <span class="pyret-highlight"><span class="stt">import</span></span> code via Google Drive sharing integrated into the
development environment.</p><p>To allow other programs to <span class="pyret-highlight"><span class="stt">import</span></span> the <span class="pyret-highlight"><span class="stt">provide</span></span>d values
in a program, click the <span style="font-weight: bold">Publish</span> button at the top of the window
for the providing program and then the blue <span style="font-weight: bold">Publish</span> button on
the resulting dialog.</p><p>The published code can now be <span class="pyret-highlight"><span class="stt">import</span></span>ed using the provided
code:</p><p><img src="publish.png" alt="" width="900" height="345"/></p><p>Any time you make changes to the providing program that you want to
be available to <span class="pyret-highlight"><span class="stt">import</span></span>ing programs, you must re-publish the
providing program, and reload any open instances of the
<span class="pyret-highlight"><span class="stt">import</span></span>ing programs.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="Import_Statements.html" title="backward to &quot;2.1.4 Import Statements&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="s_forms.html" title="up to &quot;2.1 Language Constructs&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Bindings.html" title="forward to &quot;2.1.6 Bindings&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>