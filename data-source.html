<!doctype HTML>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="codemirror.js"></script>
<script src="runmode.js"></script>
<script src="pyret.js"></script>
<script src="hilite.js"></script>
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>3.22&nbsp;data-source</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-fonts.css" title="default"/><link rel="stylesheet" type="text/css" href="codemirror.css" title="default"/><link rel="stylesheet" type="text/css" href="pyret.css" title="default"/><link rel="stylesheet" type="text/css" href="styles.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Pyret</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Getting_Started.html" class="tocviewlink" data-pltdoc="x">Getting Started</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Language_Concepts.html" class="tocviewlink" data-pltdoc="x">Language Concepts</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Builtins_and_Libraries.html" class="tocviewselflink" data-pltdoc="x">Builtins and Libraries</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Pyret_Style_Guide.html" class="tocviewlink" data-pltdoc="x">Pyret Style Guide</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="Internals.html" class="tocviewlink" data-pltdoc="x">Internals</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="Glossary.html" class="tocviewlink" data-pltdoc="x">Glossary</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>3&nbsp;</td><td><a href="Builtins_and_Libraries.html" class="tocviewlink" data-pltdoc="x">Builtins and Libraries</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.1&nbsp;</td><td><a href="_global_.html" class="tocviewlink" data-pltdoc="x">Global Utilities</a></td></tr><tr><td align="right">3.2&nbsp;</td><td><a href="numbers.html" class="tocviewlink" data-pltdoc="x">Numbers</a></td></tr><tr><td align="right">3.3&nbsp;</td><td><a href="strings.html" class="tocviewlink" data-pltdoc="x">Strings</a></td></tr><tr><td align="right">3.4&nbsp;</td><td><a href="booleans.html" class="tocviewlink" data-pltdoc="x">Booleans</a></td></tr><tr><td align="right">3.5&nbsp;</td><td><a href="raw-arrays.html" class="tocviewlink" data-pltdoc="x">Raw<span class="mywbr"> &nbsp;</span>Array</a></td></tr><tr><td align="right">3.6&nbsp;</td><td><a href="tables.html" class="tocviewlink" data-pltdoc="x">Tables</a></td></tr><tr><td align="right">3.7&nbsp;</td><td><a href="lists.html" class="tocviewlink" data-pltdoc="x">lists</a></td></tr><tr><td align="right">3.8&nbsp;</td><td><a href="sets.html" class="tocviewlink" data-pltdoc="x">sets</a></td></tr><tr><td align="right">3.9&nbsp;</td><td><a href="arrays.html" class="tocviewlink" data-pltdoc="x">arrays</a></td></tr><tr><td align="right">3.10&nbsp;</td><td><a href="string-dict.html" class="tocviewlink" data-pltdoc="x">string-<wbr></wbr>dict</a></td></tr><tr><td align="right">3.11&nbsp;</td><td><a href="option.html" class="tocviewlink" data-pltdoc="x">option</a></td></tr><tr><td align="right">3.12&nbsp;</td><td><a href="pick.html" class="tocviewlink" data-pltdoc="x">pick</a></td></tr><tr><td align="right">3.13&nbsp;</td><td><a href="either.html" class="tocviewlink" data-pltdoc="x">either</a></td></tr><tr><td align="right">3.14&nbsp;</td><td><a href="srcloc.html" class="tocviewlink" data-pltdoc="x">srcloc</a></td></tr><tr><td align="right">3.15&nbsp;</td><td><a href="pprint.html" class="tocviewlink" data-pltdoc="x">pprint</a></td></tr><tr><td align="right">3.16&nbsp;</td><td><a href="s-exp.html" class="tocviewlink" data-pltdoc="x">s-<wbr></wbr>exp</a></td></tr><tr><td align="right">3.17&nbsp;</td><td><a href="s-exp-structs.html" class="tocviewlink" data-pltdoc="x">s-<wbr></wbr>exp-<wbr></wbr>structs</a></td></tr><tr><td align="right">3.18&nbsp;</td><td><a href="image-structs.html" class="tocviewlink" data-pltdoc="x">image-<wbr></wbr>structs</a></td></tr><tr><td align="right">3.19&nbsp;</td><td><a href="image.html" class="tocviewlink" data-pltdoc="x">image</a></td></tr><tr><td align="right">3.20&nbsp;</td><td><a href="world.html" class="tocviewlink" data-pltdoc="x">world</a></td></tr><tr><td align="right">3.21&nbsp;</td><td><a href="gdrive-sheets.html" class="tocviewlink" data-pltdoc="x">gdrive-<wbr></wbr>sheets</a></td></tr><tr><td align="right">3.22&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">data-<wbr></wbr>source</a></td></tr><tr><td align="right">3.23&nbsp;</td><td><a href="reactors.html" class="tocviewlink" data-pltdoc="x">reactors</a></td></tr><tr><td align="right">3.24&nbsp;</td><td><a href="chart.html" class="tocviewlink" data-pltdoc="x">chart</a></td></tr><tr><td align="right">3.25&nbsp;</td><td><a href="plot.html" class="tocviewlink" data-pltdoc="x">plot</a></td></tr><tr><td align="right">3.26&nbsp;</td><td><a href="statistics.html" class="tocviewlink" data-pltdoc="x">statistics</a></td></tr><tr><td align="right">3.27&nbsp;</td><td><a href="math.html" class="tocviewlink" data-pltdoc="x">math</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td>3.22&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">data-<wbr></wbr>source</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.22.1&nbsp;</td><td><a href="#%28part._.The_.Cell.Content_.Type%29" class="tocviewlink" data-pltdoc="x">The Cell<span class="mywbr"> &nbsp;</span>Content Type</a></td></tr><tr><td align="right">3.22.2&nbsp;</td><td><a href="#%28part._.Sanitizers%29" class="tocviewlink" data-pltdoc="x">Sanitizers</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">3.22.1<tt>&nbsp;</tt></span><a href="#%28part._.The_.Cell.Content_.Type%29" class="tocsubseclink" data-pltdoc="x">The Cell<span class="mywbr"> &nbsp;</span>Content Type</a></td></tr><tr><td><a href="#%28part._data-source_.Cell.Content%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Cell<span class="mywbr"> &nbsp;</span>Content</span></a></td></tr><tr><td><a href="#%28part._data-source_c-empty%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">c-<wbr></wbr>empty</span></a></td></tr><tr><td><a href="#%28part._data-source_c-str%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">c-<wbr></wbr>str</span></a></td></tr><tr><td><a href="#%28part._data-source_c-num%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">c-<wbr></wbr>num</span></a></td></tr><tr><td><a href="#%28part._data-source_c-bool%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">c-<wbr></wbr>bool</span></a></td></tr><tr><td><a href="#%28part._data-source_c-custom%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">c-<wbr></wbr>custom</span></a></td></tr><tr><td><a href="#%28part._data-source_is-c-empty%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">is-<wbr></wbr>c-<wbr></wbr>empty</span></a></td></tr><tr><td><a href="#%28part._data-source_is-c-str%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">is-<wbr></wbr>c-<wbr></wbr>str</span></a></td></tr><tr><td><a href="#%28part._data-source_is-c-num%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">is-<wbr></wbr>c-<wbr></wbr>num</span></a></td></tr><tr><td><a href="#%28part._data-source_is-c-bool%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">is-<wbr></wbr>c-<wbr></wbr>bool</span></a></td></tr><tr><td><a href="#%28part._data-source_is-c-custom%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">is-<wbr></wbr>c-<wbr></wbr>custom</span></a></td></tr><tr><td><span class="tocsublinknumber">3.22.2<tt>&nbsp;</tt></span><a href="#%28part._.Sanitizers%29" class="tocsubseclink" data-pltdoc="x">Sanitizers</a></td></tr><tr><td><a href="#%28part._data-source_.Sanitizer%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">Sanitizer</span></a></td></tr><tr><td><span class="tocsublinknumber">3.22.2.1<tt>&nbsp;</tt></span><a href="#%28part._.Pre-defined_sanitizers%29" class="tocsubseclink" data-pltdoc="x">Pre-<wbr></wbr>defined sanitizers</a></td></tr><tr><td><a href="#%28part._data-source_string-sanitizer%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">string-<wbr></wbr>sanitizer</span></a></td></tr><tr><td><a href="#%28part._data-source_num-sanitizer%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">num-<wbr></wbr>sanitizer</span></a></td></tr><tr><td><a href="#%28part._data-source_bool-sanitizer%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">bool-<wbr></wbr>sanitizer</span></a></td></tr><tr><td><a href="#%28part._data-source_strict-num-sanitizer%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">strict-<wbr></wbr>num-<wbr></wbr>sanitizer</span></a></td></tr><tr><td><a href="#%28part._data-source_strings-only%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">strings-<wbr></wbr>only</span></a></td></tr><tr><td><a href="#%28part._data-source_booleans-only%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">booleans-<wbr></wbr>only</span></a></td></tr><tr><td><a href="#%28part._data-source_numbers-only%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">numbers-<wbr></wbr>only</span></a></td></tr><tr><td><a href="#%28part._data-source_empty-only%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">empty-<wbr></wbr>only</span></a></td></tr><tr><td><a href="#%28part._data-source_option-sanitizer%29" class="tocsubnonseclink" data-pltdoc="x"><span class="stt">option-<wbr></wbr>sanitizer</span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="gdrive-sheets.html" title="backward to &quot;3.21 gdrive-sheets&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Builtins_and_Libraries.html" title="up to &quot;3 Builtins and Libraries&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="reactors.html" title="forward to &quot;3.23 reactors&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>3.22<tt>&nbsp;</tt><a name="(part._data-source)"></a>data-source</h4><p><div class="SIntrapara">Usage:</div><div class="SIntrapara"><span class="pyret-highlight"><span class="stt">include data-source</span></span></div><div class="SIntrapara"><span class="pyret-highlight"><span class="stt">import data-source as ...</span></span></div><div class="SIntrapara">The general idea of loading a spreadsheet into a table is straightforward: each
cell of the spreadsheet corresponds to a cell of the table.  However,
spreadsheet files (such as Google Sheets or .csv files) store their data in a
serialized format, and loading the file must convert from that
representation back into useful Pyret data types.  Moreover, Pyret tables
expect each of their columns to be homogeneous, but there is nothing enforcing
that restriction on arbitrary spreadsheet files.</div></p><p>Accordingly, Pyret exposes a <a href="#%28part._data-source_.Cell.Content%29" data-pltdoc="x"><span class="stt">CellContent</span></a> data type to record what
type it thinks each cell contains, and a <a href="#%28part._data-source_.Sanitizer%29" data-pltdoc="x"><span class="stt">Sanitizer</span></a> to allow
enforcing a uniform type over all values in a column.  These two notions are
used by the <a href="gdrive-sheets.html" data-pltdoc="x">gdrive-sheets</a> library to convert Google Sheets files into
Pyret <a href="tables.html#%28part._tables_.Table%29" data-pltdoc="x"><span class="stt">Table</span></a>s.  A similar library could be written to use
these two types to load tables from .csv files or other data sources.</p><h5>3.22.1<tt>&nbsp;</tt><a name="(part._.The_.Cell.Content_.Type)"></a>The CellContent Type</h5><div class="boxed"><p><div class="SIntrapara"><span class="stt">data </span><a name="(part._data-source_.Cell.Content)" class="pyret-code"></a><a href="#%28part._data-source_.Cell.Content%29" data-pltdoc="x"><span class="stt">CellContent</span></a><span class="stt">&lt;</span><span class="stt">A</span><span class="stt">&gt;</span><span class="stt">:</span></div><div class="SIntrapara"><dl class="multiline-args"><dt class="indent-arg"><span class="stt">| </span><a href="#%28part._data-source_c-empty%29" data-pltdoc="x"><span class="stt">c-empty</span></a></dt><dt class="indent-arg"><span class="stt">| </span><a href="#%28part._data-source_c-str%29" data-pltdoc="x"><span class="stt">c-str</span></a><span class="stt">(</span><span class="stt">s</span><span class="stt"> :: </span><a href="_global_.html#%28part._~3cglobal~3e_.String%29" data-pltdoc="x"><span class="stt">String</span></a><span class="stt">)</span></dt><dt class="indent-arg"><span class="stt">| </span><a href="#%28part._data-source_c-num%29" data-pltdoc="x"><span class="stt">c-num</span></a><span class="stt">(</span><span class="stt">n</span><span class="stt"> :: </span><a href="_global_.html#%28part._~3cglobal~3e_.Number%29" data-pltdoc="x"><span class="stt">Number</span></a><span class="stt">)</span></dt><dt class="indent-arg"><span class="stt">| </span><a href="#%28part._data-source_c-bool%29" data-pltdoc="x"><span class="stt">c-bool</span></a><span class="stt">(</span><span class="stt">b</span><span class="stt"> :: </span><a href="_global_.html#%28part._~3cglobal~3e_.Boolean%29" data-pltdoc="x"><span class="stt">Boolean</span></a><span class="stt">)</span></dt><dt class="indent-arg"><span class="stt">| </span><a href="#%28part._data-source_c-custom%29" data-pltdoc="x"><span class="stt">c-custom</span></a><span class="stt">(</span><span class="stt">datum</span><span class="stt"> :: </span><span class="stt">A</span><span class="stt">)</span></dt></dl></div><div class="SIntrapara"><span class="stt">end</span></div></p></div><blockquote><div class="boxed"><a name="(part._data-source_c-empty)" class="pyret-code"></a><a href="#%28part._data-source_c-empty%29" data-pltdoc="x"><span class="stt">c-empty</span></a><span class="stt"> :: </span><a href="#%28part._data-source_.Cell.Content%29" data-pltdoc="x"><span class="stt">CellContent</span></a><span class="stt">&lt;</span><span class="stt">A</span><span class="stt">&gt;</span></div><p><a name="(idx._(gentag._460))"></a></p><div class="function"><div class="boxed pyret-header"><a name="(part._data-source_c-str)" class="pyret-code"></a><a href="#%28part._data-source_c-str%29" data-pltdoc="x"><span class="stt">c-str</span></a><span class="stt"> :: </span><span class="stt">(</span><span class="stt">n</span><span class="stt"> :: </span><a href="_global_.html#%28part._~3cglobal~3e_.String%29" data-pltdoc="x"><span class="stt">String</span></a><span class="stt">)</span><span class="stt"> -&gt; </span><a href="#%28part._data-source_.Cell.Content%29" data-pltdoc="x"><span class="stt">CellContent</span></a><span class="stt">&lt;</span><span class="stt">a</span><span class="stt">&gt;</span></div><div class="description"></div><div class="examples"></div></div><p><a name="(idx._(gentag._461))"></a></p><div class="function"><div class="boxed pyret-header"><a name="(part._data-source_c-num)" class="pyret-code"></a><a href="#%28part._data-source_c-num%29" data-pltdoc="x"><span class="stt">c-num</span></a><span class="stt"> :: </span><span class="stt">(</span><span class="stt">s</span><span class="stt"> :: </span><a href="_global_.html#%28part._~3cglobal~3e_.Number%29" data-pltdoc="x"><span class="stt">Number</span></a><span class="stt">)</span><span class="stt"> -&gt; </span><a href="#%28part._data-source_.Cell.Content%29" data-pltdoc="x"><span class="stt">CellContent</span></a><span class="stt">&lt;</span><span class="stt">a</span><span class="stt">&gt;</span></div><div class="description"></div><div class="examples"></div></div><p><a name="(idx._(gentag._462))"></a></p><div class="function"><div class="boxed pyret-header"><a name="(part._data-source_c-bool)" class="pyret-code"></a><a href="#%28part._data-source_c-bool%29" data-pltdoc="x"><span class="stt">c-bool</span></a><span class="stt"> :: </span><span class="stt">(</span><span class="stt">b</span><span class="stt"> :: </span><a href="_global_.html#%28part._~3cglobal~3e_.Boolean%29" data-pltdoc="x"><span class="stt">Boolean</span></a><span class="stt">)</span><span class="stt"> -&gt; </span><a href="#%28part._data-source_.Cell.Content%29" data-pltdoc="x"><span class="stt">CellContent</span></a><span class="stt">&lt;</span><span class="stt">a</span><span class="stt">&gt;</span></div><div class="description"></div><div class="examples"></div></div><p><a name="(idx._(gentag._463))"></a></p><div class="function"><div class="boxed pyret-header"><a name="(part._data-source_c-custom)" class="pyret-code"></a><a href="#%28part._data-source_c-custom%29" data-pltdoc="x"><span class="stt">c-custom</span></a><span class="stt"> :: </span><span class="stt">(</span><span class="stt">datum</span><span class="stt"> :: </span><span class="stt">A</span><span class="stt">)</span><span class="stt"> -&gt; </span><a href="#%28part._data-source_.Cell.Content%29" data-pltdoc="x"><span class="stt">CellContent</span></a><span class="stt">&lt;</span><span class="stt">A</span><span class="stt">&gt;</span></div><div class="description"></div><div class="examples"></div></div><p><a name="(idx._(gentag._464))"></a></p><div class="function"><div class="boxed pyret-header"><a name="(part._data-source_is-c-empty)" class="pyret-code"></a><a href="#%28part._data-source_is-c-empty%29" data-pltdoc="x"><span class="stt">is-c-empty</span></a><span class="stt"> :: </span><span class="stt">(</span><span class="stt">val :: Any</span><span class="stt">)</span><span class="stt"> -&gt; </span><a href="_global_.html#%28part._~3cglobal~3e_.Boolean%29" data-pltdoc="x"><span class="stt">Boolean</span></a></div><div class="description"></div><div class="examples"></div></div><p><a name="(idx._(gentag._465))"></a></p><div class="function"><div class="boxed pyret-header"><a name="(part._data-source_is-c-str)" class="pyret-code"></a><a href="#%28part._data-source_is-c-str%29" data-pltdoc="x"><span class="stt">is-c-str</span></a><span class="stt"> :: </span><span class="stt">(</span><span class="stt">val :: Any</span><span class="stt">)</span><span class="stt"> -&gt; </span><a href="_global_.html#%28part._~3cglobal~3e_.Boolean%29" data-pltdoc="x"><span class="stt">Boolean</span></a></div><div class="description"></div><div class="examples"></div></div><p><a name="(idx._(gentag._466))"></a></p><div class="function"><div class="boxed pyret-header"><a name="(part._data-source_is-c-num)" class="pyret-code"></a><a href="#%28part._data-source_is-c-num%29" data-pltdoc="x"><span class="stt">is-c-num</span></a><span class="stt"> :: </span><span class="stt">(</span><span class="stt">val :: Any</span><span class="stt">)</span><span class="stt"> -&gt; </span><a href="_global_.html#%28part._~3cglobal~3e_.Boolean%29" data-pltdoc="x"><span class="stt">Boolean</span></a></div><div class="description"></div><div class="examples"></div></div><p><a name="(idx._(gentag._467))"></a></p><div class="function"><div class="boxed pyret-header"><a name="(part._data-source_is-c-bool)" class="pyret-code"></a><a href="#%28part._data-source_is-c-bool%29" data-pltdoc="x"><span class="stt">is-c-bool</span></a><span class="stt"> :: </span><span class="stt">(</span><span class="stt">val :: Any</span><span class="stt">)</span><span class="stt"> -&gt; </span><a href="_global_.html#%28part._~3cglobal~3e_.Boolean%29" data-pltdoc="x"><span class="stt">Boolean</span></a></div><div class="description"></div><div class="examples"></div></div><p><a name="(idx._(gentag._468))"></a></p><div class="function"><div class="boxed pyret-header"><a name="(part._data-source_is-c-custom)" class="pyret-code"></a><a href="#%28part._data-source_is-c-custom%29" data-pltdoc="x"><span class="stt">is-c-custom</span></a><span class="stt"> :: </span><span class="stt">(</span><span class="stt">val :: Any</span><span class="stt">)</span><span class="stt"> -&gt; </span><a href="_global_.html#%28part._~3cglobal~3e_.Boolean%29" data-pltdoc="x"><span class="stt">Boolean</span></a></div><div class="description"></div><div class="examples"></div></div><p>This datatype describes Pyret&rsquo;s</p></blockquote><h5>3.22.2<tt>&nbsp;</tt><a name="(part._.Sanitizers)"></a>Sanitizers</h5><p><div class="SIntrapara"><a name="(idx._(gentag._469))"></a></div><div class="SIntrapara"><div class="boxed"><a name="(part._data-source_.Sanitizer)" class="pyret-code"></a><a href="#%28part._data-source_.Sanitizer%29" data-pltdoc="x"><span class="stt">Sanitizer</span></a><span class="stt">&lt;A, B&gt;</span></div></div><div class="SIntrapara">A <span class="pyret-highlight"><span class="stt">Sanitizer&lt;A, B&gt;</span></span> is a function with signature <a href="#%28part._data-source_.Cell.Content%29" data-pltdoc="x"><span class="stt">CellContent</span></a><span class="pyret-highlight"><span class="stt">&lt;A&gt;, </span></span><a href="_global_.html#%28part._~3cglobal~3e_.String%29" data-pltdoc="x"><span class="stt">String</span></a><span class="pyret-highlight"><span class="stt">, </span></span><a href="_global_.html#%28part._~3cglobal~3e_.Number%29" data-pltdoc="x"><span class="stt">Number</span></a><span class="pyret-highlight"><span class="hspace">&nbsp;</span><span class="stt">-&gt; B</span></span>.</div></p><h5>3.22.2.1<tt>&nbsp;</tt><a name="(part._.Pre-defined_sanitizers)"></a>Pre-defined sanitizers</h5><p><a name="(idx._(gentag._470))"></a></p><div class="function"><div class="boxed pyret-header"><dl class="multiline-args"><dt class=""><a name="(part._data-source_string-sanitizer)" class="pyret-code"></a><a href="#%28part._data-source_string-sanitizer%29" data-pltdoc="x"><span class="stt">string-sanitizer</span></a> :: (</dt><dt class="indent-arg"><span class="stt">x</span><span class="stt"> :: </span><a href="#%28part._data-source_.Cell.Content%29" data-pltdoc="x"><span class="stt">CellContent</span></a><span class="stt">&lt;</span><span class="stt">A</span><span class="stt">&gt;</span><span class="stt">,</span></dt><dd class=""></dd><dt class="indent-arg"><span class="stt">col</span><span class="stt"> :: </span><a href="_global_.html#%28part._~3cglobal~3e_.Number%29" data-pltdoc="x"><span class="stt">Number</span></a><span class="stt">,</span></dt><dd class=""></dd><dt class="indent-arg"><span class="stt">row</span><span class="stt"> :: </span><a href="_global_.html#%28part._~3cglobal~3e_.Number%29" data-pltdoc="x"><span class="stt">Number</span></a></dt><dd class=""></dd><dt class=""><span class="stt">)</span></dt><dt class=""><span class="stt">-&gt; </span><a href="_global_.html#%28part._~3cglobal~3e_.String%29" data-pltdoc="x"><span class="stt">String</span></a></dt></dl></div><div class="description"></div><div class="examples"></div></div><p>This sanitizer tries to convert <a href="#%28part._data-source_.Cell.Content%29" data-pltdoc="x"><span class="stt">CellContent</span></a>s containing anything to
a <a href="_global_.html#%28part._~3cglobal~3e_.String%29" data-pltdoc="x"><span class="stt">String</span></a>, by calling <a href="_global_.html#%28part._~3cglobal~3e_tostring%29" data-pltdoc="x"><span class="stt">tostring</span></a> on it.</p><p><a name="(idx._(gentag._471))"></a></p><div class="function"><div class="boxed pyret-header"><dl class="multiline-args"><dt class=""><a name="(part._data-source_num-sanitizer)" class="pyret-code"></a><a href="#%28part._data-source_num-sanitizer%29" data-pltdoc="x"><span class="stt">num-sanitizer</span></a> :: (</dt><dt class="indent-arg"><span class="stt">x</span><span class="stt"> :: </span><a href="#%28part._data-source_.Cell.Content%29" data-pltdoc="x"><span class="stt">CellContent</span></a><span class="stt">&lt;</span><span class="stt">A</span><span class="stt">&gt;</span><span class="stt">,</span></dt><dd class=""></dd><dt class="indent-arg"><span class="stt">col</span><span class="stt"> :: </span><a href="_global_.html#%28part._~3cglobal~3e_.Number%29" data-pltdoc="x"><span class="stt">Number</span></a><span class="stt">,</span></dt><dd class=""></dd><dt class="indent-arg"><span class="stt">row</span><span class="stt"> :: </span><a href="_global_.html#%28part._~3cglobal~3e_.Number%29" data-pltdoc="x"><span class="stt">Number</span></a></dt><dd class=""></dd><dt class=""><span class="stt">)</span></dt><dt class=""><span class="stt">-&gt; </span><a href="_global_.html#%28part._~3cglobal~3e_.Number%29" data-pltdoc="x"><span class="stt">Number</span></a></dt></dl></div><div class="description"></div><div class="examples"></div></div><p>This sanitizer tries to convert <a href="#%28part._data-source_.Cell.Content%29" data-pltdoc="x"><span class="stt">CellContent</span></a>s containing numbers,
strings, or booleans to a <a href="_global_.html#%28part._~3cglobal~3e_.Number%29" data-pltdoc="x"><span class="stt">Number</span></a>.  Strings are attempted to be parsed.
True and false convert to 1 and 0 respectively.  Any other values are rejected,
including blank cells.</p><p><a name="(idx._(gentag._472))"></a></p><div class="function"><div class="boxed pyret-header"><dl class="multiline-args"><dt class=""><a name="(part._data-source_bool-sanitizer)" class="pyret-code"></a><a href="#%28part._data-source_bool-sanitizer%29" data-pltdoc="x"><span class="stt">bool-sanitizer</span></a> :: (</dt><dt class="indent-arg"><span class="stt">x</span><span class="stt"> :: </span><a href="#%28part._data-source_.Cell.Content%29" data-pltdoc="x"><span class="stt">CellContent</span></a><span class="stt">&lt;</span><span class="stt">A</span><span class="stt">&gt;</span><span class="stt">,</span></dt><dd class=""></dd><dt class="indent-arg"><span class="stt">col</span><span class="stt"> :: </span><a href="_global_.html#%28part._~3cglobal~3e_.Number%29" data-pltdoc="x"><span class="stt">Number</span></a><span class="stt">,</span></dt><dd class=""></dd><dt class="indent-arg"><span class="stt">row</span><span class="stt"> :: </span><a href="_global_.html#%28part._~3cglobal~3e_.Number%29" data-pltdoc="x"><span class="stt">Number</span></a></dt><dd class=""></dd><dt class=""><span class="stt">)</span></dt><dt class=""><span class="stt">-&gt; </span><a href="_global_.html#%28part._~3cglobal~3e_.Boolean%29" data-pltdoc="x"><span class="stt">Boolean</span></a></dt></dl></div><div class="description"></div><div class="examples"></div></div><p>This sanitizer tries to convert <a href="#%28part._data-source_.Cell.Content%29" data-pltdoc="x"><span class="stt">CellContent</span></a>s containing numbers,
strings, or booleans to a <a href="_global_.html#%28part._~3cglobal~3e_.Boolean%29" data-pltdoc="x"><span class="stt">Boolean</span></a>.  0 and 1 convert to <span class="pyret-highlight"><span class="stt">false</span></span>
and <span class="pyret-highlight"><span class="stt">true</span></span> respectively.  The (case-insensitive) strings <span class="pyret-highlight"><span class="stt">"true"</span></span>
and <span class="pyret-highlight"><span class="stt">"false"</span></span> convert appropriately.  Any other values are rejected,
including blank cells.</p><p><a name="(idx._(gentag._473))"></a></p><div class="function"><div class="boxed pyret-header"><dl class="multiline-args"><dt class=""><a name="(part._data-source_strict-num-sanitizer)" class="pyret-code"></a><a href="#%28part._data-source_strict-num-sanitizer%29" data-pltdoc="x"><span class="stt">strict-num-sanitizer</span></a> :: (</dt><dt class="indent-arg"><span class="stt">x</span><span class="stt"> :: </span><a href="#%28part._data-source_.Cell.Content%29" data-pltdoc="x"><span class="stt">CellContent</span></a><span class="stt">&lt;</span><span class="stt">A</span><span class="stt">&gt;</span><span class="stt">,</span></dt><dd class=""></dd><dt class="indent-arg"><span class="stt">col</span><span class="stt"> :: </span><a href="_global_.html#%28part._~3cglobal~3e_.Number%29" data-pltdoc="x"><span class="stt">Number</span></a><span class="stt">,</span></dt><dd class=""></dd><dt class="indent-arg"><span class="stt">row</span><span class="stt"> :: </span><a href="_global_.html#%28part._~3cglobal~3e_.Number%29" data-pltdoc="x"><span class="stt">Number</span></a></dt><dd class=""></dd><dt class=""><span class="stt">)</span></dt><dt class=""><span class="stt">-&gt; </span><a href="_global_.html#%28part._~3cglobal~3e_.Number%29" data-pltdoc="x"><span class="stt">Number</span></a></dt></dl></div><div class="description"></div><div class="examples"></div></div><p>This sanitizer tries to convert <a href="#%28part._data-source_.Cell.Content%29" data-pltdoc="x"><span class="stt">CellContent</span></a>s containing strings or
numbers to a <a href="_global_.html#%28part._~3cglobal~3e_.Number%29" data-pltdoc="x"><span class="stt">Number</span></a>.  Strings are attempted to be parsed.  Any other
values are rejected, including blank cells.</p><p><a name="(idx._(gentag._474))"></a></p><div class="function"><div class="boxed pyret-header"><dl class="multiline-args"><dt class=""><a name="(part._data-source_strings-only)" class="pyret-code"></a><a href="#%28part._data-source_strings-only%29" data-pltdoc="x"><span class="stt">strings-only</span></a> :: (</dt><dt class="indent-arg"><span class="stt">x</span><span class="stt"> :: </span><a href="#%28part._data-source_.Cell.Content%29" data-pltdoc="x"><span class="stt">CellContent</span></a><span class="stt">&lt;</span><span class="stt">A</span><span class="stt">&gt;</span><span class="stt">,</span></dt><dd class=""></dd><dt class="indent-arg"><span class="stt">col</span><span class="stt"> :: </span><a href="_global_.html#%28part._~3cglobal~3e_.Number%29" data-pltdoc="x"><span class="stt">Number</span></a><span class="stt">,</span></dt><dd class=""></dd><dt class="indent-arg"><span class="stt">row</span><span class="stt"> :: </span><a href="_global_.html#%28part._~3cglobal~3e_.Number%29" data-pltdoc="x"><span class="stt">Number</span></a></dt><dd class=""></dd><dt class=""><span class="stt">)</span></dt><dt class=""><span class="stt">-&gt; </span><a href="_global_.html#%28part._~3cglobal~3e_.String%29" data-pltdoc="x"><span class="stt">String</span></a></dt></dl></div><div class="description"></div><div class="examples"></div></div><p>This sanitizer accepts <a href="#%28part._data-source_.Cell.Content%29" data-pltdoc="x"><span class="stt">CellContent</span></a>s containing strings only, and
rejects all other values, including blank cells.</p><p><a name="(idx._(gentag._475))"></a></p><div class="function"><div class="boxed pyret-header"><dl class="multiline-args"><dt class=""><a name="(part._data-source_booleans-only)" class="pyret-code"></a><a href="#%28part._data-source_booleans-only%29" data-pltdoc="x"><span class="stt">booleans-only</span></a> :: (</dt><dt class="indent-arg"><span class="stt">x</span><span class="stt"> :: </span><a href="#%28part._data-source_.Cell.Content%29" data-pltdoc="x"><span class="stt">CellContent</span></a><span class="stt">&lt;</span><span class="stt">A</span><span class="stt">&gt;</span><span class="stt">,</span></dt><dd class=""></dd><dt class="indent-arg"><span class="stt">col</span><span class="stt"> :: </span><a href="_global_.html#%28part._~3cglobal~3e_.Number%29" data-pltdoc="x"><span class="stt">Number</span></a><span class="stt">,</span></dt><dd class=""></dd><dt class="indent-arg"><span class="stt">row</span><span class="stt"> :: </span><a href="_global_.html#%28part._~3cglobal~3e_.Number%29" data-pltdoc="x"><span class="stt">Number</span></a></dt><dd class=""></dd><dt class=""><span class="stt">)</span></dt><dt class=""><span class="stt">-&gt; </span><a href="_global_.html#%28part._~3cglobal~3e_.Boolean%29" data-pltdoc="x"><span class="stt">Boolean</span></a></dt></dl></div><div class="description"></div><div class="examples"></div></div><p>This sanitizer accepts <a href="#%28part._data-source_.Cell.Content%29" data-pltdoc="x"><span class="stt">CellContent</span></a>s containing booleans only, and
rejects all other values, including blank cells.</p><p><a name="(idx._(gentag._476))"></a></p><div class="function"><div class="boxed pyret-header"><dl class="multiline-args"><dt class=""><a name="(part._data-source_numbers-only)" class="pyret-code"></a><a href="#%28part._data-source_numbers-only%29" data-pltdoc="x"><span class="stt">numbers-only</span></a> :: (</dt><dt class="indent-arg"><span class="stt">x</span><span class="stt"> :: </span><a href="#%28part._data-source_.Cell.Content%29" data-pltdoc="x"><span class="stt">CellContent</span></a><span class="stt">&lt;</span><span class="stt">A</span><span class="stt">&gt;</span><span class="stt">,</span></dt><dd class=""></dd><dt class="indent-arg"><span class="stt">col</span><span class="stt"> :: </span><a href="_global_.html#%28part._~3cglobal~3e_.Number%29" data-pltdoc="x"><span class="stt">Number</span></a><span class="stt">,</span></dt><dd class=""></dd><dt class="indent-arg"><span class="stt">row</span><span class="stt"> :: </span><a href="_global_.html#%28part._~3cglobal~3e_.Number%29" data-pltdoc="x"><span class="stt">Number</span></a></dt><dd class=""></dd><dt class=""><span class="stt">)</span></dt><dt class=""><span class="stt">-&gt; </span><a href="_global_.html#%28part._~3cglobal~3e_.Number%29" data-pltdoc="x"><span class="stt">Number</span></a></dt></dl></div><div class="description"></div><div class="examples"></div></div><p>This sanitizer accepts <a href="#%28part._data-source_.Cell.Content%29" data-pltdoc="x"><span class="stt">CellContent</span></a>s containing numbers only, and
rejects all other values, including blank cells.</p><p><a name="(idx._(gentag._477))"></a></p><div class="function"><div class="boxed pyret-header"><dl class="multiline-args"><dt class=""><a name="(part._data-source_empty-only)" class="pyret-code"></a><a href="#%28part._data-source_empty-only%29" data-pltdoc="x"><span class="stt">empty-only</span></a> :: (</dt><dt class="indent-arg"><span class="stt">x</span><span class="stt"> :: </span><a href="#%28part._data-source_.Cell.Content%29" data-pltdoc="x"><span class="stt">CellContent</span></a><span class="stt">&lt;</span><span class="stt">A</span><span class="stt">&gt;</span><span class="stt">,</span></dt><dd class=""></dd><dt class="indent-arg"><span class="stt">col</span><span class="stt"> :: </span><a href="_global_.html#%28part._~3cglobal~3e_.Number%29" data-pltdoc="x"><span class="stt">Number</span></a><span class="stt">,</span></dt><dd class=""></dd><dt class="indent-arg"><span class="stt">row</span><span class="stt"> :: </span><a href="_global_.html#%28part._~3cglobal~3e_.Number%29" data-pltdoc="x"><span class="stt">Number</span></a></dt><dd class=""></dd><dt class=""><span class="stt">)</span></dt><dt class=""><span class="stt">-&gt; </span><a href="option.html#%28part._option_.Option%29" data-pltdoc="x"><span class="stt">Option</span></a><span class="stt">&lt;</span><span class="stt">A</span><span class="stt">&gt;</span></dt></dl></div><div class="description"></div><div class="examples"></div></div><p>This sanitizer accepts <a href="#%28part._data-source_.Cell.Content%29" data-pltdoc="x"><span class="stt">CellContent</span></a>s containing blank cells only, and
rejects all other values.</p><p><a name="(idx._(gentag._478))"></a></p><div class="function"><div class="boxed pyret-header"><dl class="multiline-args"><dt class=""><a name="(part._data-source_option-sanitizer)" class="pyret-code"></a><a href="#%28part._data-source_option-sanitizer%29" data-pltdoc="x"><span class="stt">option-sanitizer</span></a> :: (</dt><dt class="indent-arg"><span class="stt">value-sanitizer</span><span class="stt"> :: </span><a href="#%28part._data-source_.Sanitizer%29" data-pltdoc="x"><span class="stt">Sanitizer</span></a><span class="stt">&lt;</span><span class="stt">A</span><span class="stt">&gt;</span></dt><dd class=""></dd><dt class=""><span class="stt">)</span></dt><dt class=""><span class="stt">-&gt; </span><a href="#%28part._data-source_.Sanitizer%29" data-pltdoc="x"><span class="stt">Sanitizer</span></a><span class="stt">&lt;</span><a href="option.html#%28part._option_.Option%29" data-pltdoc="x"><span class="stt">Option</span></a><span class="stt">&lt;</span><span class="stt">A</span><span class="stt">&gt;</span><span class="stt">&gt;</span></dt></dl></div><div class="description"></div><div class="examples"></div></div><p>This higher-order sanitizer takes in another sanitizer that does not expect to
be given blank cells, and produces a new sanitizer that can accept them.  Blank
cells are converted to <a href="option.html#%28part._option_none%29" data-pltdoc="x"><span class="stt">none</span></a>, while valid non-blank cells
are converted to a <a href="option.html#%28part._option_some%29" data-pltdoc="x"><span class="stt">some</span></a> value containing the converted
contents of the cell.  Values rejected by the <span class="pyret-highlight"><span class="stt">value-sanitizer</span></span> are
rejected by this sanitizer as well.</p><p>This sanitizer is useful for handling incomplete data that might contain blank
values; a subsequent processing step could filter out the <a href="option.html#%28part._option_none%29" data-pltdoc="x"><span class="stt">none</span></a> values.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="gdrive-sheets.html" title="backward to &quot;3.21 gdrive-sheets&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Builtins_and_Libraries.html" title="up to &quot;3 Builtins and Libraries&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="reactors.html" title="forward to &quot;3.23 reactors&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>